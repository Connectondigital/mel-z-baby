<header class="bg-white border-b border-[#f4f2f0] sticky top-0 z-50">
  <div class="max-w-[1280px] mx-auto px-4 md:px-10 py-3">
    <div class="flex items-center justify-between gap-8">

      <!-- Logo -->
      <a
        href="/anasayfa/dist/index.html"
        class="flex items-center gap-2 text-text-main shrink-0"
      >
        <img
          src="/assets/melz-logo.png"
          alt="Melz Baby Logo"
          class="h-8 md:h-10 w-auto object-contain"
        />
        <span class="text-lg font-bold leading-tight tracking-[-0.015em]">
          Mel'z Baby&Kids
        </span>
      </a>

      <!-- Desktop Menu -->
      <nav class="hidden lg:flex items-center gap-7">
        <a class="text-text-main text-sm font-medium hover:text-primary transition-colors" href="/anasayfa/dist/index.html">Ana Sayfa</a>
        <a class="text-text-main text-sm font-medium hover:text-primary transition-colors" href="/bebek-urunleri/dist/index.html">Shop</a>
        <a class="text-text-main text-sm font-medium hover:text-primary transition-colors" href="/bebek-urunleri/dist/index.html">Giyim</a>
        <a class="text-text-main text-sm font-medium hover:text-primary transition-colors" href="/blog/dist/index.html">Blog</a>
        <a class="text-text-main text-sm font-medium hover:text-primary transition-colors" href="/iletisim/dist/index.html">İletişim</a>
      </nav>

      <!-- Actions -->
      <div class="flex items-center gap-3 justify-end flex-1">
        <label class="hidden md:flex flex-1 min-w-0 max-w-[420px]">
          <div class="flex w-full items-center rounded-xl bg-[#f4f2f0] px-3 h-10">
            <span class="material-symbols-outlined text-[20px] text-text-secondary">search</span>
            <input
              class="flex-1 bg-transparent outline-none px-2 text-sm text-text-main placeholder:text-text-secondary"
              placeholder="Ürün ara..."
            />
          </div>
        </label>

        <!-- Cart Button with Badge -->
        <a href="/odeme/dist/index.html" class="relative flex items-center justify-center rounded-xl h-10 w-10 bg-[#f4f2f0] hover:bg-[#e8e6e4] text-text-main transition-colors" aria-label="Sepet" id="header-cart-btn">
          <span class="material-symbols-outlined text-[20px]">shopping_cart</span>
          <span class="absolute -top-1 -right-1 bg-primary text-white text-xs w-5 h-5 rounded-full items-center justify-center font-bold hidden" id="header-cart-badge" data-cart-badge>0</span>
        </a>

        <a href="/hesabim/dist/index.html" class="flex items-center justify-center rounded-xl h-10 w-10 bg-[#f4f2f0] hover:bg-[#e8e6e4] text-text-main transition-colors" aria-label="Hesap">
          <span class="material-symbols-outlined text-[20px]">account_circle</span>
        </a>
      </div>

    </div>
  </div>
</header>

<script>
// Update cart badge on page load
document.addEventListener('DOMContentLoaded', function() {
  updateHeaderCartBadge();
  window.addEventListener('melz:cart:update', updateHeaderCartBadge);
});

function updateHeaderCartBadge() {
  try {
    const cart = JSON.parse(localStorage.getItem('melz_cart') || '[]');
    const count = cart.reduce((sum, item) => sum + (item.qty || 1), 0);
    const badge = document.getElementById('header-cart-badge');
    if (badge) {
      badge.textContent = count;
      badge.style.display = count > 0 ? 'flex' : 'none';
    }
  } catch (e) {}
}
</script>
